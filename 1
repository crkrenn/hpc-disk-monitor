test_compute_and_store_api_summary (test_api_status_collector.TestApiStatusCollector.test_compute_and_store_api_summary) ... test_compute_and_store_api_summary (test_api_status_collector.TestApiStatusCollector.test_compute_and_store_api_summary) ... ok
ok
test_current_timestamp (test_api_status_collector.TestApiStatusCollector.test_current_timestamp) ... test_current_timestamp (test_api_status_collector.TestApiStatusCollector.test_current_timestamp) ... ok
ok
test_init_db (test_api_status_collector.TestApiStatusCollector.test_init_db) ... test_init_db (test_api_status_collector.TestApiStatusCollector.test_init_db) ... ok
ok
test_insert_api_record (test_api_status_collector.TestApiStatusCollector.test_insert_api_record) ... test_insert_api_record (test_api_status_collector.TestApiStatusCollector.test_insert_api_record) ... ok
ok
test_insert_api_summary_stats (test_api_status_collector.TestApiStatusCollector.test_insert_api_summary_stats) ... test_insert_api_summary_stats (test_api_status_collector.TestApiStatusCollector.test_insert_api_summary_stats) ... ok
ok
test_run_once_and_record (test_api_status_collector.TestApiStatusCollector.test_run_once_and_record) ... test_run_once_and_record (test_api_status_collector.TestApiStatusCollector.test_run_once_and_record) ... ok
ok
test_run_once_and_record_no_apis (test_api_status_collector.TestApiStatusCollector.test_run_once_and_record_no_apis) ... test_run_once_and_record_no_apis (test_api_status_collector.TestApiStatusCollector.test_run_once_and_record_no_apis) ... ok
ok
test_test_api_endpoint_client_error (test_api_status_collector.TestApiStatusCollector.test_test_api_endpoint_client_error) ... test_test_api_endpoint_client_error (test_api_status_collector.TestApiStatusCollector.test_test_api_endpoint_client_error) ... ok
ok
test_test_api_endpoint_connection_error (test_api_status_collector.TestApiStatusCollector.test_test_api_endpoint_connection_error) ... test_test_api_endpoint_connection_error (test_api_status_collector.TestApiStatusCollector.test_test_api_endpoint_connection_error) ... ok
ok
test_test_api_endpoint_generic_exception (test_api_status_collector.TestApiStatusCollector.test_test_api_endpoint_generic_exception) ... test_test_api_endpoint_generic_exception (test_api_status_collector.TestApiStatusCollector.test_test_api_endpoint_generic_exception) ... ok
ok
test_test_api_endpoint_success (test_api_status_collector.TestApiStatusCollector.test_test_api_endpoint_success) ... test_test_api_endpoint_success (test_api_status_collector.TestApiStatusCollector.test_test_api_endpoint_success) ... ok
ok
test_test_api_endpoint_timeout (test_api_status_collector.TestApiStatusCollector.test_test_api_endpoint_timeout) ... test_test_api_endpoint_timeout (test_api_status_collector.TestApiStatusCollector.test_test_api_endpoint_timeout) ... ok
ok
test_api_config_auto_names (test_env_config.TestEnvironmentConfiguration.test_api_config_auto_names)
Test that API names are auto-generated when not provided. ... test_api_config_auto_names (test_env_config.TestEnvironmentConfiguration.test_api_config_auto_names)
Test that API names are auto-generated when not provided. ... FAIL
FAIL
test_api_config_empty (test_env_config.TestEnvironmentConfiguration.test_api_config_empty)
Test that empty API configuration is handled correctly. ... test_api_config_empty (test_env_config.TestEnvironmentConfiguration.test_api_config_empty)
Test that empty API configuration is handled correctly. ... ok
ok
test_api_config_mismatch_error (test_env_config.TestEnvironmentConfiguration.test_api_config_mismatch_error)
Test that mismatched endpoints and names raise an error. ... test_api_config_mismatch_error (test_env_config.TestEnvironmentConfiguration.test_api_config_mismatch_error)
Test that mismatched endpoints and names raise an error. ... FAIL
FAIL
test_api_config_parsing (test_env_config.TestEnvironmentConfiguration.test_api_config_parsing)
Test that API endpoint configuration is parsed correctly.test_api_config_parsing (test_env_config.TestEnvironmentConfiguration.test_api_config_parsing)
Test that API endpoint configuration is parsed correctly. ...  ... FAIL
FAIL
test_database_path_configuration (test_env_config.TestEnvironmentConfiguration.test_database_path_configuration)
Test that database path configuration works with new variable names.test_database_path_configuration (test_env_config.TestEnvironmentConfiguration.test_database_path_configuration)
Test that database path configuration works with new variable names. ...  ... ok
ok
test_database_path_fallback (test_env_config.TestEnvironmentConfiguration.test_database_path_fallback)
Test that database path falls back to legacy DISK_STATS_DB if RESOURCE_STATS_DB is not set. ... test_database_path_fallback (test_env_config.TestEnvironmentConfiguration.test_database_path_fallback)
Test that database path falls back to legacy DISK_STATS_DB if RESOURCE_STATS_DB is not set. ... FAIL
FAIL
test_filesystem_config_parsing (test_env_config.TestEnvironmentConfiguration.test_filesystem_config_parsing)
Test that filesystem configuration is parsed correctly. ... test_filesystem_config_parsing (test_env_config.TestEnvironmentConfiguration.test_filesystem_config_parsing)
Test that filesystem configuration is parsed correctly. ... FAIL
FAIL
test_sampling_intervals (test_env_config.TestEnvironmentConfiguration.test_sampling_intervals)
Test that sampling interval configuration is parsed correctly.test_sampling_intervals (test_env_config.TestEnvironmentConfiguration.test_sampling_intervals)
Test that sampling interval configuration is parsed correctly. ...  ... FAIL
FAIL
test_preprocess_env_nonexistent_file (test_env_utils.TestEnvUtils.test_preprocess_env_nonexistent_file) ... test_preprocess_env_nonexistent_file (test_env_utils.TestEnvUtils.test_preprocess_env_nonexistent_file) ... ok
test_preprocess_env_with_shell_env (test_env_utils.TestEnvUtils.test_preprocess_env_with_shell_env) ... ok
test_preprocess_env_with_shell_env (test_env_utils.TestEnvUtils.test_preprocess_env_with_shell_env) ... ok
ok
test_preprocess_env_with_templates (test_env_utils.TestEnvUtils.test_preprocess_env_with_templates) ... test_preprocess_env_with_templates (test_env_utils.TestEnvUtils.test_preprocess_env_with_templates) ... ok
ok
test_monitor_resource_metrics (unittest.loader._FailedTest.test_monitor_resource_metrics) ... test_monitor_resource_metrics (unittest.loader._FailedTest.test_monitor_resource_metrics) ... ERROR
ERROR
test_calculate_latency_stats_empty (test_resource_metrics_collector.TestResourceMetricsCollector.test_calculate_latency_stats_empty) ... test_calculate_latency_stats_empty (test_resource_metrics_collector.TestResourceMetricsCollector.test_calculate_latency_stats_empty) ... ok
ok
test_calculate_latency_stats_multiple (test_resource_metrics_collector.TestResourceMetricsCollector.test_calculate_latency_stats_multiple) ... test_calculate_latency_stats_multiple (test_resource_metrics_collector.TestResourceMetricsCollector.test_calculate_latency_stats_multiple) ... ok
ok
test_calculate_latency_stats_single (test_resource_metrics_collector.TestResourceMetricsCollector.test_calculate_latency_stats_single) ... test_calculate_latency_stats_single (test_resource_metrics_collector.TestResourceMetricsCollector.test_calculate_latency_stats_single) ... ok
ok
test_compute_and_store_summary (test_resource_metrics_collector.TestResourceMetricsCollector.test_compute_and_store_summary) ... test_compute_and_store_summary (test_resource_metrics_collector.TestResourceMetricsCollector.test_compute_and_store_summary) ... FAIL
FAIL
test_current_timestamp (test_resource_metrics_collector.TestResourceMetricsCollector.test_current_timestamp) ... test_current_timestamp (test_resource_metrics_collector.TestResourceMetricsCollector.test_current_timestamp) ... ok
ok
test_decimate_old_data (test_resource_metrics_collector.TestResourceMetricsCollector.test_decimate_old_data) ... test_decimate_old_data (test_resource_metrics_collector.TestResourceMetricsCollector.test_decimate_old_data) ... FAIL
FAIL
test_generate_data (test_resource_metrics_collector.TestResourceMetricsCollector.test_generate_data) ... test_generate_data (test_resource_metrics_collector.TestResourceMetricsCollector.test_generate_data) ... ok
ok
test_init_db (test_resource_metrics_collector.TestResourceMetricsCollector.test_init_db) ... test_init_db (test_resource_metrics_collector.TestResourceMetricsCollector.test_init_db) ... FAIL
FAIL
test_insert_stat_record (test_resource_metrics_collector.TestResourceMetricsCollector.test_insert_stat_record) ... test_insert_stat_record (test_resource_metrics_collector.TestResourceMetricsCollector.test_insert_stat_record) ... FAIL
FAIL
test_insert_summary_stats (test_resource_metrics_collector.TestResourceMetricsCollector.test_insert_summary_stats) ... test_insert_summary_stats (test_resource_metrics_collector.TestResourceMetricsCollector.test_insert_summary_stats) ... FAIL
FAIL
test_run_once_and_record (test_resource_metrics_collector.TestResourceMetricsCollector.test_run_once_and_record) ... test_run_once_and_record (test_resource_metrics_collector.TestResourceMetricsCollector.test_run_once_and_record) ... FAIL
FAIL
test_test_io_speed_read (test_resource_metrics_collector.TestResourceMetricsCollector.test_test_io_speed_read) ... test_test_io_speed_read (test_resource_metrics_collector.TestResourceMetricsCollector.test_test_io_speed_read) ... FAIL
FAIL
test_test_io_speed_write (test_resource_metrics_collector.TestResourceMetricsCollector.test_test_io_speed_write) ... test_test_io_speed_write (test_resource_metrics_collector.TestResourceMetricsCollector.test_test_io_speed_write) ... FAIL
FAIL
test_connect_db_creates_directories (test_schema.TestSchema.test_connect_db_creates_directories) ... test_connect_db_creates_directories (test_schema.TestSchema.test_connect_db_creates_directories) ... FAIL
FAIL
test_create_tables (test_schema.TestSchema.test_create_tables) ... test_create_tables (test_schema.TestSchema.test_create_tables) ... ok
ok
test_compute_and_store_summary (test_resource_metrics_simplified.TestResourceMetricsSimplified.test_compute_and_store_summary)
Test direct calculation and storage of summary statistics.test_compute_and_store_summary (test_resource_metrics_simplified.TestResourceMetricsSimplified.test_compute_and_store_summary)
Test direct calculation and storage of summary statistics. ...  ... ERROR
ERROR
test_decimate_old_data (test_resource_metrics_simplified.TestResourceMetricsSimplified.test_decimate_old_data)
Test our own simplified version of data decimation. ... test_decimate_old_data (test_resource_metrics_simplified.TestResourceMetricsSimplified.test_decimate_old_data)
Test our own simplified version of data decimation. ... ERROR
ERROR
test_test_io_speed (test_resource_metrics_simplified.TestResourceMetricsSimplified.test_test_io_speed)
Test that test_io_speed function works. ... test_test_io_speed (test_resource_metrics_simplified.TestResourceMetricsSimplified.test_test_io_speed)
Test that test_io_speed function works. ... ERROR
ERROR


======================================================================
======================================================================
ERROR: test_monitor_resource_metrics (unittest.loader._FailedTest.test_monitor_resource_metrics)
----------------------------------------------------------------------
ERROR: test_monitor_resource_metrics (unittest.loader._FailedTest.test_monitor_resource_metrics)
----------------------------------------------------------------------
ImportError: Failed to import test module: test_monitor_resource_metrics
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/loader.py", line 396, in _find_test_path
    module = self._get_module_from_name(name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/loader.py", line 339, in _get_module_from_name
    __import__(name)
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_monitor_resource_metrics.py", line 17, in <module>
    from scripts import monitor_disk_metrics
ImportError: cannot import name 'monitor_disk_metrics' from 'scripts' (unknown location)

ImportError: Failed to import test module: test_monitor_resource_metrics
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/loader.py", line 396, in _find_test_path
    module = self._get_module_from_name(name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/loader.py", line 339, in _get_module_from_name
    __import__(name)
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_monitor_resource_metrics.py", line 17, in <module>
    from scripts import monitor_disk_metrics
ImportError: cannot import name 'monitor_disk_metrics' from 'scripts' (unknown location)


======================================================================
ERROR: test_compute_and_store_summary (test_resource_metrics_simplified.TestResourceMetricsSimplified.test_compute_and_store_summary)
Test direct calculation and storage of summary statistics.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/integration/test_resource_metrics_simplified.py", line 29, in setUp
    import scripts.disk_metrics_collector as collector
ModuleNotFoundError: No module named 'scripts.disk_metrics_collector'


======================================================================
ERROR: test_compute_and_store_summary (test_resource_metrics_simplified.TestResourceMetricsSimplified.test_compute_and_store_summary)
Test direct calculation and storage of summary statistics.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/integration/test_resource_metrics_simplified.py", line 29, in setUp
    import scripts.disk_metrics_collector as collector
ModuleNotFoundError: No module named 'scripts.disk_metrics_collector'

======================================================================
ERROR: test_decimate_old_data (test_resource_metrics_simplified.TestResourceMetricsSimplified.test_decimate_old_data)
Test our own simplified version of data decimation.======================================================================
ERROR: test_decimate_old_data (test_resource_metrics_simplified.TestResourceMetricsSimplified.test_decimate_old_data)
Test our own simplified version of data decimation.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/integration/test_resource_metrics_simplified.py", line 29, in setUp
    import scripts.disk_metrics_collector as collector
ModuleNotFoundError: No module named 'scripts.disk_metrics_collector'


----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/integration/test_resource_metrics_simplified.py", line 29, in setUp
    import scripts.disk_metrics_collector as collector
ModuleNotFoundError: No module named 'scripts.disk_metrics_collector'

======================================================================
ERROR: test_test_io_speed (test_resource_metrics_simplified.TestResourceMetricsSimplified.test_test_io_speed)
Test that test_io_speed function works.======================================================================
ERROR: test_test_io_speed (test_resource_metrics_simplified.TestResourceMetricsSimplified.test_test_io_speed)
Test that test_io_speed function works.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/integration/test_resource_metrics_simplified.py", line 29, in setUp
    import scripts.disk_metrics_collector as collector
ModuleNotFoundError: No module named 'scripts.disk_metrics_collector'


----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/integration/test_resource_metrics_simplified.py", line 29, in setUp
    import scripts.disk_metrics_collector as collector
ModuleNotFoundError: No module named 'scripts.disk_metrics_collector'

======================================================================
FAIL: test_api_config_auto_names (test_env_config.TestEnvironmentConfiguration.test_api_config_auto_names)
Test that API names are auto-generated when not provided.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_env_config.py", line 86, in test_api_config_auto_names
    self.assertEqual(api_status_collector.API_CONFIG, expected_config)
AssertionError: {} != {'https://api1.example.com/health': 'API-1[41 chars]I-2'}
- {}
+ {'https://api1.example.com/health': 'API-1',
+  'https://api2.example.com/status': 'API-2'}

======================================================================
======================================================================
FAIL: test_api_config_auto_names (test_env_config.TestEnvironmentConfiguration.test_api_config_auto_names)
Test that API names are auto-generated when not provided.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_env_config.py", line 86, in test_api_config_auto_names
    self.assertEqual(api_status_collector.API_CONFIG, expected_config)
AssertionError: {} != {'https://api1.example.com/health': 'API-1[41 chars]I-2'}
- {}
+ {'https://api1.example.com/health': 'API-1',
+  'https://api2.example.com/status': 'API-2'}

======================================================================
FAIL: test_api_config_mismatch_error (test_env_config.TestEnvironmentConfiguration.test_api_config_mismatch_error)
Test that mismatched endpoints and names raise an error.
----------------------------------------------------------------------
FAIL: test_api_config_mismatch_error (test_env_config.TestEnvironmentConfiguration.test_api_config_mismatch_error)
Test that mismatched endpoints and names raise an error.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_env_config.py", line 104, in test_api_config_mismatch_error
    with self.assertRaises(ValueError) as context:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: ValueError not raised

======================================================================
Traceback (most recent call last):
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_env_config.py", line 104, in test_api_config_mismatch_error
    with self.assertRaises(ValueError) as context:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: ValueError not raised

======================================================================
FAIL: test_api_config_parsing (test_env_config.TestEnvironmentConfiguration.test_api_config_parsing)
Test that API endpoint configuration is parsed correctly.
----------------------------------------------------------------------
FAIL: test_api_config_parsing (test_env_config.TestEnvironmentConfiguration.test_api_config_parsing)
Test that API endpoint configuration is parsed correctly.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_env_config.py", line 40, in test_api_config_parsing
    self.assertEqual(api_status_collector.API_CONFIG, expected_config)
AssertionError: {} != {'https://api1.example.com/health': 'API 1[41 chars]I 2'}
- {}
+ {'https://api1.example.com/health': 'API 1',
+  'https://api2.example.com/status': 'API 2'}

======================================================================
Traceback (most recent call last):
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_env_config.py", line 40, in test_api_config_parsing
    self.assertEqual(api_status_collector.API_CONFIG, expected_config)
AssertionError: {} != {'https://api1.example.com/health': 'API 1[41 chars]I 2'}
- {}
+ {'https://api1.example.com/health': 'API 1',
+  'https://api2.example.com/status': 'API 2'}

======================================================================
FAIL: test_database_path_fallback (test_env_config.TestEnvironmentConfiguration.test_database_path_fallback)
Test that database path falls back to legacy DISK_STATS_DB if RESOURCE_STATS_DB is not set.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_env_config.py", line 142, in test_database_path_fallback
    self.assertEqual(DB_FILE, "/test/path/disk_stats.db")
AssertionError: '/Users/crkrenn/hpc-disk-monitor/data/disk_stats.db' != '/test/path/disk_stats.db'
- /Users/crkrenn/hpc-disk-monitor/data/disk_stats.db
+ /test/path/disk_stats.db


======================================================================
FAIL: test_database_path_fallback (test_env_config.TestEnvironmentConfiguration.test_database_path_fallback)
Test that database path falls back to legacy DISK_STATS_DB if RESOURCE_STATS_DB is not set.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_env_config.py", line 142, in test_database_path_fallback
    self.assertEqual(DB_FILE, "/test/path/disk_stats.db")
AssertionError: '/Users/crkrenn/hpc-disk-monitor/data/disk_stats.db' != '/test/path/disk_stats.db'
- /Users/crkrenn/hpc-disk-monitor/data/disk_stats.db
+ /test/path/disk_stats.db


======================================================================
FAIL: test_filesystem_config_parsing (test_env_config.TestEnvironmentConfiguration.test_filesystem_config_parsing)
Test that filesystem configuration is parsed correctly.
----------------------------------------------------------------------
FAIL: test_filesystem_config_parsing (test_env_config.TestEnvironmentConfiguration.test_filesystem_config_parsing)
Test that filesystem configuration is parsed correctly.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_env_config.py", line 167, in test_filesystem_config_parsing
    self.assertEqual(resource_metrics_collector.FILESYSTEM_CONFIG, expected_config)
AssertionError: {'/Users/crkrenn': 'home', '/tmp': 'tmpfs'} != {'/path1': 'label1', '/path2': 'label2', '/path3': 'label3'}
- {'/Users/crkrenn': 'home', '/tmp': 'tmpfs'}
+ {'/path1': 'label1', '/path2': 'label2', '/path3': 'label3'}

======================================================================
Traceback (most recent call last):
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_env_config.py", line 167, in test_filesystem_config_parsing
    self.assertEqual(resource_metrics_collector.FILESYSTEM_CONFIG, expected_config)
AssertionError: {'/Users/crkrenn': 'home', '/tmp': 'tmpfs'} != {'/path1': 'label1', '/path2': 'label2', '/path3': 'label3'}
- {'/Users/crkrenn': 'home', '/tmp': 'tmpfs'}
+ {'/path1': 'label1', '/path2': 'label2', '/path3': 'label3'}

======================================================================
FAIL: test_sampling_intervals (test_env_config.TestEnvironmentConfiguration.test_sampling_intervals)
Test that sampling interval configuration is parsed correctly.
FAIL: test_sampling_intervals (test_env_config.TestEnvironmentConfiguration.test_sampling_intervals)
Test that sampling interval configuration is parsed correctly.
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_env_config.py", line 183, in test_sampling_intervals
    self.assertEqual(manage_cron.DISK_SAMPLING_MINUTES, 10)
AssertionError: 5 != 10

======================================================================
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_env_config.py", line 183, in test_sampling_intervals
    self.assertEqual(manage_cron.DISK_SAMPLING_MINUTES, 10)
AssertionError: 5 != 10

======================================================================
FAIL: test_compute_and_store_summary (test_resource_metrics_collector.TestResourceMetricsCollector.test_compute_and_store_summary)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 1395, in patched
    return func(*newargs, **newkeywargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_resource_metrics_collector.py", line 285, in test_compute_and_store_summary
    mock_connect_db.assert_called_once()
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 928, in assert_called_once
    raise AssertionError(msg)
AssertionError: Expected 'connect_db' to have been called once. Called 0 times.

FAIL: test_compute_and_store_summary (test_resource_metrics_collector.TestResourceMetricsCollector.test_compute_and_store_summary)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 1395, in patched
    return func(*newargs, **newkeywargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_resource_metrics_collector.py", line 285, in test_compute_and_store_summary
    mock_connect_db.assert_called_once()
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 928, in assert_called_once
    raise AssertionError(msg)
AssertionError: Expected 'connect_db' to have been called once. Called 0 times.

======================================================================
======================================================================
FAIL: test_decimate_old_data (test_resource_metrics_collector.TestResourceMetricsCollector.test_decimate_old_data)
----------------------------------------------------------------------
FAIL: test_decimate_old_data (test_resource_metrics_collector.TestResourceMetricsCollector.test_decimate_old_data)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 1395, in patched
    return func(*newargs, **newkeywargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_resource_metrics_collector.py", line 327, in test_decimate_old_data
    mock_connect_db.assert_called_once()
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 928, in assert_called_once
    raise AssertionError(msg)
AssertionError: Expected 'connect_db' to have been called once. Called 0 times.

======================================================================
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 1395, in patched
    return func(*newargs, **newkeywargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_resource_metrics_collector.py", line 327, in test_decimate_old_data
    mock_connect_db.assert_called_once()
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 928, in assert_called_once
    raise AssertionError(msg)
AssertionError: Expected 'connect_db' to have been called once. Called 0 times.

======================================================================
FAIL: test_init_db (test_resource_metrics_collector.TestResourceMetricsCollector.test_init_db)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 1395, in patched
    return func(*newargs, **newkeywargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_resource_metrics_collector.py", line 168, in test_init_db
    mock_connect_db.assert_called_once()
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 928, in assert_called_once
    raise AssertionError(msg)
AssertionError: Expected 'connect_db' to have been called once. Called 0 times.

======================================================================
FAIL: test_init_db (test_resource_metrics_collector.TestResourceMetricsCollector.test_init_db)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 1395, in patched
    return func(*newargs, **newkeywargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_resource_metrics_collector.py", line 168, in test_init_db
    mock_connect_db.assert_called_once()
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 928, in assert_called_once
    raise AssertionError(msg)
AssertionError: Expected 'connect_db' to have been called once. Called 0 times.

======================================================================
FAIL: test_insert_stat_record (test_resource_metrics_collector.TestResourceMetricsCollector.test_insert_stat_record)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 1395, in patched
    return func(*newargs, **newkeywargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_resource_metrics_collector.py", line 207, in test_insert_stat_record
    mock_connect_db.assert_called_once()
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 928, in assert_called_once
    raise AssertionError(msg)
AssertionError: Expected 'connect_db' to have been called once. Called 0 times.

FAIL: test_insert_stat_record (test_resource_metrics_collector.TestResourceMetricsCollector.test_insert_stat_record)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 1395, in patched
    return func(*newargs, **newkeywargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_resource_metrics_collector.py", line 207, in test_insert_stat_record
    mock_connect_db.assert_called_once()
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 928, in assert_called_once
    raise AssertionError(msg)
AssertionError: Expected 'connect_db' to have been called once. Called 0 times.

======================================================================
FAIL: test_insert_summary_stats (test_resource_metrics_collector.TestResourceMetricsCollector.test_insert_summary_stats)
======================================================================
FAIL: test_insert_summary_stats (test_resource_metrics_collector.TestResourceMetricsCollector.test_insert_summary_stats)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 1395, in patched
    return func(*newargs, **newkeywargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_resource_metrics_collector.py", line 249, in test_insert_summary_stats
    mock_connect_db.assert_called_once()
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 928, in assert_called_once
    raise AssertionError(msg)
AssertionError: Expected 'connect_db' to have been called once. Called 0 times.

======================================================================
FAIL: test_run_once_and_record (test_resource_metrics_collector.TestResourceMetricsCollector.test_run_once_and_record)
----------------------------------------------------------------------
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 1395, in patched
    return func(*newargs, **newkeywargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_resource_metrics_collector.py", line 249, in test_insert_summary_stats
    mock_connect_db.assert_called_once()
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 928, in assert_called_once
    raise AssertionError(msg)
AssertionError: Expected 'connect_db' to have been called once. Called 0 times.

======================================================================
FAIL: test_run_once_and_record (test_resource_metrics_collector.TestResourceMetricsCollector.test_run_once_and_record)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 1395, in patched
    return func(*newargs, **newkeywargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_resource_metrics_collector.py", line 374, in test_run_once_and_record
    self.assertEqual(mock_test_io.call_count, 4)  # 2 filesystems x 2 modes
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 0 != 4

======================================================================
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 1395, in patched
    return func(*newargs, **newkeywargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_resource_metrics_collector.py", line 374, in test_run_once_and_record
    self.assertEqual(mock_test_io.call_count, 4)  # 2 filesystems x 2 modes
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 0 != 4

======================================================================
FAIL: test_test_io_speed_read (test_resource_metrics_collector.TestResourceMetricsCollector.test_test_io_speed_read)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 1395, in patched
    return func(*newargs, **newkeywargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_resource_metrics_collector.py", line 136, in test_test_io_speed_read
    self.assertIn("mbps", result)
AssertionError: 'mbps' not found in {'error': "[Errno 2] No such file or directory: '/test/dir/test_speed.tmp'"}

FAIL: test_test_io_speed_read (test_resource_metrics_collector.TestResourceMetricsCollector.test_test_io_speed_read)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 1395, in patched
    return func(*newargs, **newkeywargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_resource_metrics_collector.py", line 136, in test_test_io_speed_read
    self.assertIn("mbps", result)
AssertionError: 'mbps' not found in {'error': "[Errno 2] No such file or directory: '/test/dir/test_speed.tmp'"}

======================================================================
FAIL: test_test_io_speed_write (test_resource_metrics_collector.TestResourceMetricsCollector.test_test_io_speed_write)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 1395, in patched
    return func(*newargs, **newkeywargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_resource_metrics_collector.py", line 93, in test_test_io_speed_write
    self.assertIn("mbps", result)
AssertionError: 'mbps' not found in {'error': "[Errno 2] No such file or directory: '/test/dir/test_speed.tmp'"}

======================================================================
======================================================================
FAIL: test_test_io_speed_write (test_resource_metrics_collector.TestResourceMetricsCollector.test_test_io_speed_write)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 1395, in patched
    return func(*newargs, **newkeywargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_resource_metrics_collector.py", line 93, in test_test_io_speed_write
    self.assertIn("mbps", result)
AssertionError: 'mbps' not found in {'error': "[Errno 2] No such file or directory: '/test/dir/test_speed.tmp'"}

======================================================================
FAIL: test_connect_db_creates_directories (test_schema.TestSchema.test_connect_db_creates_directories)
----------------------------------------------------------------------
FAIL: test_connect_db_creates_directories (test_schema.TestSchema.test_connect_db_creates_directories)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 1395, in patched
    return func(*newargs, **newkeywargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_schema.py", line 34, in test_connect_db_creates_directories
    parent_mock.mkdir.assert_called_once_with(parents=True, exist_ok=True)
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 960, in assert_called_once_with
    raise AssertionError(msg)
AssertionError: Expected 'mkdir' to be called once. Called 0 times.

Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 1395, in patched
    return func(*newargs, **newkeywargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/crkrenn/Dropbox/code/hpc-disk-monitor/tests/unit/test_schema.py", line 34, in test_connect_db_creates_directories
    parent_mock.mkdir.assert_called_once_with(parents=True, exist_ok=True)
  File "/opt/homebrew/Cellar/python@3.12/3.12.7_1/Frameworks/Python.framework/Versions/3.12/lib/python3.12/unittest/mock.py", line 960, in assert_called_once_with
    raise AssertionError(msg)
AssertionError: Expected 'mkdir' to be called once. Called 0 times.

----------------------------------------------------------------------
Ran 42 tests in 0.111s

----------------------------------------------------------------------
Ran 42 tests in 0.111s

FAILED (failures=15, errors=4)
FAILED (failures=15, errors=4)
